<!doctype html><html dir=ltr lang=en data-theme><head>
<title>
JS.geek.NZ
|
Drupalgeddon; Are you ready?
</title>
<meta charset=utf-8><meta name=generator content="Hugo 0.92.1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name=description content="
        I'm Bevan Rudge

  I'm a web technologist and software engineer.

  I've been building the web since 2002.

  I am most satisfied when I solve problems through engineering, share my skills by mentoring, and craft beautiful experiences for my other people.

  I have expert skills in ECMAScript (JavaScript), TypeScript and Vue. I am also skilled with SQL, Python, Golang, PHP and more.
  


    ">
<link rel=stylesheet href=/css/main.min.0a28517cc8cf1577ac08fce9aed49bbe584c350d58aaf61fb13d6cb13792aeb7.css integrity="sha256-CihRfMjPFXesCPzprtSbvlhMNQ1YqvYfsT1ssTeSrrc=" crossorigin=anonymous type=text/css>
<link rel=stylesheet href=/css/markupHighlight.min.8e4c8f0a940b1596fb4c64d28a00a5ceed671fc303cb65178b4947417da9c674.css integrity="sha256-jkyPCpQLFZb7TGTSigClzu1nH8MDy2UXi0lHQX2pxnQ=" crossorigin=anonymous type=text/css>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous>
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=canonical href=/blog/drupalgeddon-are-you-ready/>
<script type=text/javascript src=/js/anatole-header.min.2a2cd9614b7d007dfbb75e8da19e3a0fa872ceab53c6d000c00b7a0c89b85bfc.js integrity="sha256-KizZYUt9AH37t16NoZ46D6hyzqtTxtAAwAt6DIm4W/w=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus=" crossorigin=anonymous></script>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Drupalgeddon;  Are you ready?">
<meta name=twitter:description content="Just arrived here? Read my followup first.
Original post The Drupal security team announced multiple highly critical updates to Drupal contrib modules in PSA-2016-001. Expect attacks within less than one hour from the announcement; 18 hours from the time this article is published. This is probably going to be Drupalgeddon all over again.
My advice If you are prepared, you will save yourself a lot of time. If you are late or too slow, you will probably find yourself with a lot more work, e.">
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"blog","name":"Drupalgeddon;  Are you ready?","headline":"Drupalgeddon;  Are you ready?","alternativeHeadline":"","description":"
      
        Just arrived here? Read my followup first.\nOriginal post The Drupal security team announced multiple highly critical updates to Drupal contrib modules in PSA-2016-001. Expect attacks within less than one hour from the announcement; 18 hours from the time this article is published. This is probably going to be Drupalgeddon all over again.\nMy advice If you are prepared, you will save yourself a lot of time. If you are late or too slow, you will probably find yourself with a lot more work, e.


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/js.geek.nz\/blog\/drupalgeddon-are-you-ready\/"},"author":{"@type":"Person","name":"JS.geek.NZ"},"creator":{"@type":"Person","name":"JS.geek.NZ"},"accountablePerson":{"@type":"Person","name":"JS.geek.NZ"},"copyrightHolder":{"@type":"Person","name":"JS.geek.NZ"},"copyrightYear":"0001","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"0001-01-01T00:00:00.00Z","publisher":{"@type":"Organization","name":"JS.geek.NZ","url":"https://js.geek.nz/","logo":{"@type":"ImageObject","url":"https:\/\/js.geek.nz\/favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"https:\/\/js.geek.nz\/blog\/drupalgeddon-are-you-ready\/","wordCount":"830","genre":[],"keywords":[]}</script>
</head>
<body>
<header><div class="page-top
.">
<a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
</a>
<nav>
<ul class=nav__list id=navMenu>
<div class=nav__links>
<li>
<a href=/ title>Home</a>
</li>
<li>
<a href=/blog/ title>Archive</a>
</li>
<li>
<a href=https://www.linkedin.com/in/bevanr target=_blank rel="noopener noreferrer" title>LinkedIn ↗</a>
</li>
</div>
<li>
<a class=theme-switch title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a>
</li>
</ul>
</nav>
</div>
</header>
<div class=wrapper>
<aside><div class="sidebar
.">
<div class=sidebar__content>
<div class=logo-title>
<div class=title>
<img src=/images/profile.jpg alt="profile picture">
<h3 title><a href=/>JS.geek.NZ</a></h3>
<div class=description>
<p> I'm Bevan Rudge<br><br> I'm a web technologist and software engineer.<br><br> I've been building the web since 2002.<br><br> I am most satisfied when I solve problems through engineering, share my skills by mentoring, and craft beautiful experiences for my other people.<br><br> I have expert skills in ECMAScript (JavaScript), TypeScript and Vue. I am also skilled with SQL, Python, Golang, PHP and more.<br> </p>
</div>
</div>
</div>
<ul class=social-links>
</ul>
</div><footer class="footer footer--sidebar">
<div class=by_farbox>
<ul class=footer__list>
<li class=footer__item>
&copy;
2007-2022 Bevan Rudge
</li>
</ul>
</div>
</footer>
<script type=text/javascript src=/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I=" crossorigin=anonymous></script></div>
</aside>
<main>
<div class=autopagerize_page_element>
<div class=content>
<div class="post
.">
<div class=post-content>
<div class=post-title>
<h1>Drupalgeddon; Are you ready?</h1>
<div class=info>
<em class="fas fa-calendar-day"></em>
<span class=date>
1 Jan 0001
</span>
<em class="fas fa-stopwatch"></em>
<span class=reading-time>4-minute read</span>
</div>
</div>
<p>Just arrived here? <a href=https://www.js.geek.nz/blog/not-so-highly-critical>Read my followup first</a>.</p>
<h2>Original post</h2>
<p>The Drupal security team announced multiple highly critical updates to Drupal contrib modules in <a href=https://www.drupal.org/node/2764899>PSA-2016-001</a>. <strong>Expect attacks</strong> within less than one hour from the announcement; 18 hours from the time this article is published. This is probably going to be <a href=/blog/your-drupal-website-has-backdoor>Drupalgeddon</a> all over again.</p>
<h2>My advice</h2>
<p>If you are prepared, you will save yourself a lot of time. If you are late or too slow, you will probably find yourself with a lot more work, e.g. <a href=/blog/your-drupal-website-has-backdoor>the rescue workflow for Drupalgeddon 1</a>.</p>
<h3>Today</h3>
<p>Don't skimp on the first two. And do at least one of "3. Update a contrib module" or "4. Learn how to apply patches". Which one you choose depends on your skills and how out of date contrib modules are on your Drupal websites. Ideally, do both steps 3 & 4; You might find one of them is significantly challenging for you.</p>
<ol>
<li><strong>Backup your Drupal 7 websites</strong>; Database, code & files directory</li>
<li>
Plan to be online at <strong>1600 Wednesday 13 July 2016 UTC</strong>. In other timezones:<br>
America/Los_Angeles: 0900 Wednesday 13 Jul<br>
America/New_York: 1200 Wednesday 13 Jul<br>
Europe/London: 1700 Wednesday 13 Jul<br>
Europe/Paris: 1800 Wednesday 13 Jul<br>
Australia/Sydney: 0200 <strong>Thursday</strong> 14 Jul<br>
Pacific/Auckland: 0400 <strong>Thursday</strong> 14 Jul
</li><li><strong>Update a contrib module</strong> on each of your Drupal 7 website(s) to make sure there will be no problems and you know how to do it. Do it manually by downloading the module from Drupal.org. The update server that Drush and Drupal use might be delayed, overloaded or under attack.</li>
<li>
<strong>Learn how to apply patches:</strong>
<ol>
<li>Choose any popular module that your website uses, e.g. Views</li>
<li>Navigate to the module's issue queue</li>
<li>Filter for "Reviewed & tested by the community"</li>
<li>Filter for the version of the module your website uses</li>
<li>E.g. <a href="https://www.drupal.org/project/issues/views?text=&status=14&priorities=All&categories=All&version=7.x-3.x-dev&component=All">Views 7.3 RTBC issues</a></li>
<li>Open any issue</li>
<li>Download any <code>.patch</code> file</li>
<li>
Apply it using <a href=https://www.drupal.org/patch/apply>Drupal's documentation</a>, which boils down to something like:
<ol>
<li><code>cd sites/all/modules/views/</code></li>
<li><code>patch -p1 &lt; ~/Downloads/views-fix_hide_rewriting_if_empty-1428256-21.patch</code></li>
<li>Test the patched module still works</li>
</ol>
</li>
</ol>
</li>
<li>Restore your website from the backup into a new environment to make sure your backup is complete, you have sufficient access and you know how to do it. If you are on time and fast, this won't become necessary. But just in case...</li>
<li>
Subscribe to Drupal security email announcements: Log in on Drupal.org, go to your <a href=https://www.drupal.org/user>user profile page</a> and subscribe to the security newsletter on the "Edit » My newsletters" tab.
</li>
<li>Consider taking servers that host highly sensitive data offline if your Drupal website can reach them. Drupal's maintenance mode may not be sufficient protection.</li>
<li>If you can move to a <a href=https://www.drupal.org/hosting/enterprise>Drupal-tailored web host</a> easily, do so. They often offer additional protection while you work on applying updates. I usually recommend Pantheon.</li>
<li>Take stock of any modifications (patches) to Drupal core and contrib modules. The <a href=https://www.drupal.org/project/hacked>Hacked!</a> module automates most of this.</li>
<li>Clean up and/or take stock of any unusual files in your website. A version control system like git makes this easy.</li>
<li>Use the <a href=https://www.drupal.org/project/security_review>Security Review</a> module to check if you have configured your Drupal website securely.</li>
<li>Backup your website again if you made changes since the last backup.</li>
<li>
Subscribe to my blog;
<ul>
<li>I will post any important or relevant updates, more aggressively than what the Drupal Security Team is able to</li>
<li>Submit your email address in the right sidebar.</li>
<li>You can unsubscribe anytime (I won't be offended)</li>
</ul>
</li>
</ol>
<h3>At T minus 1-hour</h3>
<p>At 1500 Wednesday 13 July 2016 UTC, an hour before the scheduled time;</p>
<p>Do what you need to do to have the next few hours free from distractions; I.e. eat, use the bathroom, get comfortable.</p>
<h3>At 1600 Wednesday 13 July 2016 UTC</h3>
<ol>
<li>Look for <a href=https://www.drupal.org/security/contrib>contrib security advisories on Drupal.org</a>.</li>
<li>
For each advisory that is published, check if your website(s) use the module. If yes, update it.
</li>
<li>
Check you are recieving security advisory emails. Sometimes the highly critical updates require followup.
</li>
</ol>
<h2>Drupal 6</h2>
<p>The Drupal security team no longer supports Drupal 6. So we don't yet know if it is vulnerable or if there will be a patch. All of the above applies and you should do it, but if Drupal 6 is vulnerable patches or updates will probably be provided by <a href=https://www.drupal.org/project/d6lts>the Drupal 6 long term support (LTS) programme</a>.</p>
<p>Worst case, be prepared to roll-back to your backup from before the announcement.</p>
<p>Consider also;</p>
<ol>
<li>Accellerating your plans to upgrade to Drupal 7 or 8</li>
<li>Taking your server or website offline</li>
<li><a href=https://www.drupal.org/node/27882>Archiving it as a static HTML website</a> (no PHP)</li>
<li>Maintenance mode or locked-down permissions to be read-only is better than nothing, but may not offer any protection</li>
</ol>
<h2>Will I be affected?</h2>
<p>The Drupal security team have added that the affected contrib modules are used on between 1,000 and 10,000 sites. That limits the affected modules to those ranked <a href="https://www.drupal.org/project/usage?page=5">522</a> to <a href="https://www.drupal.org/project/usage?page=21">2180</a>; Just 1680 of the most popular 2000 Drupal contrib modules. Some Drupal websites, especially simple ones, will be lucky in that they won't be using an affected contrib module. But don't count on luck.</p>
</div>
<div class=post-footer>
<div class=info>
</div>
</div>
</div>
</div>
</div>
</main>
</div><footer class="footer footer--base">
<div class=by_farbox>
<ul class=footer__list>
<li class=footer__item>
&copy;
2007-2022 Bevan Rudge
</li>
</ul>
</div>
</footer>
<script type=text/javascript src=/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I=" crossorigin=anonymous></script></body>
</html>